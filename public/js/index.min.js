/**
 * @file index.min.js
 * @author 欧阳鹏 <ponconsoft@gmail.com>
 * @version 1.0
 * @date 2022-06-30
 */
$(document).ready(function(){function t(o){Poncon.loginStatus||Poncon.login(Poncon.getStorage("username"),Poncon.getStorage("password"),!0),scrollTo(0,0);var t=(o=o.split("/"))[1];$(".page-oyp").css("display","none");try{var n=$(".page-"+t);n.css("display","block")}catch{location.href=Poncon.entryPage}"home"==t?(document.title="主页 - "+Poncon.title,$(".webTitle").html(Poncon.title),Poncon.pageLoad.home||(Poncon.pageLoad.home=!0,Poncon.setting.isBottom=0),Poncon.loadCollectList(0)):"login"==t?($(".webTitle").html(""),"register"==o[2]?(document.title="用户注册 - "+Poncon.title,n.find(".sub-page-login").hide(),n.find(".sub-page-register").show()):(document.title="用户登录 - "+Poncon.title,n.find(".sub-page-register").hide(),n.find(".sub-page-login").show())):"user"==t?(document.title="个人中心 - "+Poncon.title,$(".webTitle").html("个人中心")):location.href=Poncon.entryPage,"home"==t||"login"==t?$(".btn-back-oyp").css({display:"none"}):$(".btn-back-oyp").css({display:"block"}),"home"==t?$(".userCenter").css("display","inline-block"):$(".userCenter").css("display","none")}$("body").removeClass("fade"),new ClipboardJS(".copybtn"),location.hash.split("/")[1]||history.replaceState({},null,Poncon.entryPage),t(location.hash),window.addEventListener("hashchange",function(o){t(new URL(o.newURL).hash)}),$(window).scroll(function(){var o=$(this).scrollTop(),t=$(document).height(),n=$(this).height();"home"==location.hash.split("/")[1]&&t<o+n+50&&!Poncon.setting.isBottom&&(Poncon.setting.isBottom=1,Poncon.loadCollectList(Poncon.data.nowPage+1))}),$(".modal-searchCollect .modal-body").scroll(function(){var o=$(this)[0].scrollTop,t=$(this)[0].scrollHeight,n=$(this)[0].offsetHeight;"home"==location.hash.split("/")[1]&&t<o+n+50&&!Poncon.setting.isBottom_search&&(Poncon.setting.isBottom_search=1,Poncon.searchCollect(Poncon.data.keyword,Poncon.data.nowPage_search+1))}),$(".modal-tagList .modal-body").scroll(function(){var o=$(".modal-tagList"),t=$(this)[0].scrollTop,n=$(this)[0].scrollHeight,e=$(this)[0].offsetHeight;"home"==location.hash.split("/")[1]&&n<t+e+50&&!Poncon.setting.isBottom_byTag&&"none"==o.find(".tagList").css("display")&&(Poncon.setting.isBottom_byTag=1,Poncon.loadCollectListByTag(Poncon.data.tagListObjSelected,Poncon.data.nowPage_byTag+1))})});